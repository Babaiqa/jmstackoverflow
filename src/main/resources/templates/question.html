<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/static/css/askQuestion.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-3.5.1.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-bs4.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-bs4.min.js"></script>

    <title>Title</title>

</head>
<body>


<div th:insert="~{fragment/header :: header}" class="nav-link-menu" ></div>
<div class="container-fluid">
    <div class="row ">
        <div class="col-md-3 col-xl-2  col-lg-2 col-sm-3">
            <div th:insert="~{fragment/sidebar :: sidebar}" id="sidebarArea"></div>
        </div>
        <div class="col-md-9 col-xl-10  col-lg-10 col-sm-9">
            <div header class="row">
                <div class = "col">
                    <h2>Парсинг сайта myip.ms</h2>
                </div>
                <div class = "col">
                    <a type="button" class="btn btn-primary float-right" href="/ask"  id="askQuest">Задать вопрос</a>
                </div>

            </div>

            <div underheader class="row">
                <div class="col-1" title="2021-01-29 17:20:32Z">
                    <span class="fc-light mr2">Вопрос задан</span>
                    <time itemprop="dateCreated" datetime="2021-01-29T17:20:32">сегодня</time>
                </div>
                <div class="col-1">
                    <span class="fc-light mr2">Последняя активность</span>
                    <a href="https://ru.stackoverflow.com/questions/1237608/%d0%9f%d0%b0%d1%80%d1%81%d0%b8%d0%bd%d0%b3-%d1%81%d0%b0%d0%b9%d1%82%d0%b0-myip-ms?lastactivity" class="s-link s-link__inherit" title="2021-01-29 17:20:32Z">сегодня</a>
                </div>
                <div class="col-1" title="Просмотрен 4 раза">
                    <span class="fc-light mr2">Просмотрен</span>
                    4 раза
                </div>
            </div>

            <hr />

            <div main-area class="row">
                <div class="col-md-8 col-xl-9  col-lg-9 col-sm-8" aria-label="question and answers">
                    <div question >
                        <div class="row">
                            <div vote-area-question class="col-1">
                                <div class="js-voting-container grid jc-center fd-column ai-stretch gs4 fc-black-200" data-post-id="1237608" data-suppress-vote-requests="false">
                                    <button class="js-vote-up-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Up vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-vsbp1ztj">
                                        <svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36">
                                            <path d="M2 26h32L18 10 2 26z"></path>
                                        </svg>
                                    </button>
                                    <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" itemprop="upvoteCount" data-value="0">0</div>
                                    <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Down vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-jpdnb4o1">
                                        <svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36">
                                            <path d="M2 10h32L18 26 2 10z"></path>
                                        </svg>
                                    </button>
                                </div>

                            </div>

                            <div question-and-comments-area class="col-11">
                                <div question-area>
                                    <div describlion class="s-prose js-post-body" itemprop="text">

                                        <p>Пишу парсер для сайта <a href="https://myip.ms/" rel="nofollow noreferrer">https://myip.ms/</a>
                                            И вот для этой страницы <a href="https://myip.ms/browse/sites/1/ipID/23.227.38.0/ipIDii/23.227.38.255/own/376714" rel="nofollow noreferrer">https://myip.ms/browse/sites/1/ipID/23.227.38.0/ipIDii/23.227.38.255/own/376714</a>
                                            С этой ссылкой всё работает отлично, но если перейти на другую страницу <a href="https://myip.ms/browse/sites/2/ipID/23.227.38.0/ipIDii/23.227.38.255/own/376714" rel="nofollow noreferrer">https://myip.ms/browse/sites/2/ipID/23.227.38.0/ipIDii/23.227.38.255/own/376714</a>
                                            То никаких данных не выводит, хотя структура сайта такая же. Я думаю что это может быть связанно с тем что на сайте стоит лимит на просмотры, или из-за того что надо зарегистрироваться, но я не могу найти какой запрос надо отправить для входа в аккаунт.
                                            Подскажите что сделать?</p>
                                        <pre class="lang-py s-code-block hljs python"><code><span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup
<span class="hljs-keyword">import</span> time
link_list = []

URL = <span class="hljs-string">'https://myip.ms/browse/sites/2/ipID/23.227.38.0/ipIDii/23.227.38.255/own/376714'</span>

HEADERS = {<span class="hljs-string">'user-agent'</span>:<span class="hljs-string">'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 YaBrowser/20.12.2.105 Yowser/2.5 Safari/537.36'</span>,<span class="hljs-string">'accept'</span>:<span class="hljs-string">'*/*'</span>}
<span class="hljs-comment">#HOST =</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_html</span>(<span class="hljs-params">url,params=<span class="hljs-literal">None</span></span>):</span>
r = requests.get(url,headers=HEADERS,params=params)
<span class="hljs-keyword">return</span> r

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_content</span>(<span class="hljs-params">html</span>):</span>
soup = BeautifulSoup(html,<span class="hljs-string">'html.parser'</span>)
items = soup.find_all(<span class="hljs-string">'td'</span>,class_=<span class="hljs-string">'row_name'</span>)
<span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> items:
    links = item.find(<span class="hljs-string">'a'</span>).get(<span class="hljs-string">'href'</span>)
    link_list.append({
        <span class="hljs-string">'link'</span>: links
    })

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">parser</span>():</span>
print(URL)

html = get_html(URL)
<span class="hljs-keyword">if</span> html.status_code == <span class="hljs-number">200</span>:
    get_content(html.text)
<span class="hljs-keyword">else</span>:
    print(<span class="hljs-string">'Error'</span>)

parser()
print(link_list)
</code></pre>
                                    </div>
                                    <div tags class="mt24 mb12">
                                        <div class="post-taglist grid gs4 gsy fd-column">
                                            <div class="grid ps-relative">
                                                <div class="mb-1">
                                                    python
                                                </div>
                                                <div class="mb-1">
                                                    python-3.x
                                                </div>
                                                <div class="mb-1">
                                                    парсер
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div underquestion class="mb0 ">
                                        <div class="row">
                                            <div class="col-md-4">
                                                <a href="#">Поделиться</a>
                                                <a href="#">Править</a>
                                                <a href="#">Отслеживать</a>



                                            </div>
                                            <div class="col-md-4 offset-md-4">
                                                <div class="card" style="width: 250px">
                                                    <div class="card-body" style="background: #e0ebf3">
                                                        <div>
                                                            <span>Задан 3 часа назад</span>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-4">
                                                                <a href="https://ru.stackoverflow.com/users/427467/%d0%9a%d0%be%d0%bb%d1%8f-%d0%9d%d0%b0%d1%80%d1%83%d1%88%d0%b5%d0%b2"><div class="gravatar-wrapper-32"><img src="./python - Парсинг сайта myip.ms - Stack Overflow на русском_files/515e40ef493fb346d428c6c173db632c" alt="" width="32" height="32" class="bar-sm"></div></a>
                                                            </div>
                                                            <div class="col-8">
                                                                <div>Коля Нарушев</div>
                                                                <div>1  1 </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="card-footer" style="background: #d0e4f0">
                                                        2 days ago
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <div comments? class="post-layout--right">
                                    <div id="comments-1237608" class="comments js-comments-container bt bc-black-075 mt12  dno" data-post-id="1237608" data-min-length="15">
                                        <ul class="comments-list js-comments-list" data-remaining-comments-count="0" data-canpost="false" data-cansee="true" data-comments-unavailable="false" data-addlink-disabled="true">

                                        </ul>
                                    </div>

                                    <div id="comments-link-1237608" data-rep="50" data-reg="true">
                                        <a class="js-add-link comments-link disabled-link" title="Используйте комментарии для запроса дополнительной информации или предложения улучшений. Избегайте публикации ответа на вопросы в комментариях." href="https://ru.stackoverflow.com/questions/1237608/%d0%9f%d0%b0%d1%80%d1%81%d0%b8%d0%bd%d0%b3-%d1%81%d0%b0%d0%b9%d1%82%d0%b0-myip-ms#" role="button">добавить комментарий</a>
                                        <span class="js-link-separator dno">&nbsp;|&nbsp;</span>
                                        <a class="js-show-link comments-link dno" title="разверните, чтобы увидеть все комментарии к сообщению" href="https://ru.stackoverflow.com/questions/1237608/%d0%9f%d0%b0%d1%80%d1%81%d0%b8%d0%bd%d0%b3-%d1%81%d0%b0%d0%b9%d1%82%d0%b0-myip-ms#" onclick="" role="button"></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <hr />


                    <div answer >
                        <div answer1 class="row">
                            <div vote-area-answer class="col-1">
                                <div class="js-voting-container grid jc-center fd-column ai-stretch gs4 fc-black-200" data-post-id="1237608" data-suppress-vote-requests="false">
                                    <button class="js-vote-up-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Up vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-vsbp1ztj">
                                        <svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36">
                                            <path d="M2 26h32L18 10 2 26z"></path>
                                        </svg>
                                    </button>
                                    <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" itemprop="upvoteCount" data-value="0">0</div>
                                    <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Down vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-jpdnb4o1">
                                        <svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36">
                                            <path d="M2 10h32L18 26 2 10z"></path>
                                        </svg>
                                    </button>
                                </div>

                            </div>

                            <div answer-and-comments-area class="col-11">
                                <div>
                                    <p>Можно проще, без явного применения SQL запроса(если вы можете подключиться к базе):</p>
                                    в phpMyAdmin:

                                    <p>   нажать на ссылку "На главную"<p>
                                    <p>    затем выбрать "Учетные записи пользователя" а там уже</p>
                                    <p>   выбрать строку с необходимым пользователем и в столбце действия</p>
                                    <p>   выбрать "редактировать привилегии" в появившемся окне будет ссылка</p>
                                    <p>   "Изменить пароль" дальше интуитивно и так понятно</p>
                                    <p>   в HeidiSQL:</p>

                                    <p>   Инструменты</p>
                                    <p>   Управление пользователями</p>
                                    <p>   далее интуитивно понятно</p>

                                </div>

                            </div>
                        </div>
                        <hr/>
                        <div answer2 class="row">
                            <div vote-area-answer class="col-1">
                                <div class="js-voting-container grid jc-center fd-column ai-stretch gs4 fc-black-200" data-post-id="1237608" data-suppress-vote-requests="false">
                                    <button class="js-vote-up-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Up vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-vsbp1ztj">
                                        <svg aria-hidden="true" class="m0 svg-icon iconArrowUpLg" width="36" height="36" viewBox="0 0 36 36">
                                            <path d="M2 26h32L18 10 2 26z"></path>
                                        </svg>
                                    </button>
                                    <div class="js-vote-count grid--cell fc-black-500 fs-title grid fd-column ai-center" itemprop="upvoteCount" data-value="0">0</div>
                                    <button class="js-vote-down-btn grid--cell s-btn s-btn__unset c-pointer" data-controller="s-tooltip" data-s-tooltip-placement="right" aria-pressed="false" aria-label="Down vote" data-selected-classes="fc-theme-primary" aria-describedby="--stacks-s-tooltip-jpdnb4o1">
                                        <svg aria-hidden="true" class="m0 svg-icon iconArrowDownLg" width="36" height="36" viewBox="0 0 36 36">
                                            <path d="M2 10h32L18 26 2 10z"></path>
                                        </svg>
                                    </button>
                                </div>

                            </div>

                            <div answer-and-comments-area class="col-11">

                            </div>
                        </div>
                        <hr/>

                        <div class="col-11 float-right">
                            <div class="card-body">
                                <h6 class="card-title">Ваш ответ</h6>
                                <p class="card-text">Добавьте всю информацию, которая может понадобиться для ответа на ваш вопрос.</p>
                                <div id="summernote"></div>
                                <script>
                                    $('#summernote').summernote({
                                        tabsize: 2,
                                        height: 200
                                    });
                                </script>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row-md-4 col-xl-3  col-lg-3 col-sm-4" aria-label="боковая панель">
                    <div class="module sidebar-related">
                        <h4 id="h-related">Похожие</h4>
                        <div class="related js-gps-related-questions" data-tracker="rq=1">
                            <div class="spacer js-gps-track">
                                <a href="https://ru.stackoverflow.com/q/475764?rq=1" title="Количество голосов («за» − «против»)">
                                    <div class="answer-votes answered-accepted default">0</div>
                                </a>
                                <a href="https://ru.stackoverflow.com/questions/475764/python-%d0%bf%d0%b0%d1%80%d1%81%d0%b8%d0%bd%d0%b3-%d1%81%d0%b0%d0%b9%d1%82%d0%b0-%d1%85%d0%b0%d1%80%d0%b0%d0%ba%d1%82%d0%b5%d1%80%d0%b8%d1%81%d1%82%d0%b8%d0%ba%d0%b8?rq=1" class="question-hyperlink">python парсинг сайта (характеристики)</a>
                            </div>
                            <div class="spacer js-gps-track">
                                <a href="https://ru.stackoverflow.com/q/716614?rq=1" title="Количество голосов («за» − «против»)">
                                    <div class="answer-votes answered-accepted default">0</div>
                                </a>
                                <a href="https://ru.stackoverflow.com/questions/716614/%d0%9f%d0%b0%d1%80%d1%81%d0%b8%d0%bd%d0%b3-%d0%b2%d0%bd%d1%83%d1%82%d1%80%d0%b5%d0%bd%d0%bd%d0%b8%d1%85-%d1%81%d1%81%d1%8b%d0%bb%d0%be%d0%ba-%d1%81%d0%b0%d0%b9%d1%82%d0%b0?rq=1" class="question-hyperlink">Парсинг внутренних ссылок сайта</a>
                            </div>
                            <div class="spacer js-gps-track">
                                <a href="https://ru.stackoverflow.com/q/962282?rq=1" title="Количество голосов («за» − «против»)">
                                    <div class="answer-votes answered-accepted default">0</div>
                                </a>
                                <a href="https://ru.stackoverflow.com/questions/962282/%d0%9f%d0%b0%d1%80%d1%81%d0%b8%d0%bd%d0%b3-%d1%81%d0%b0%d0%b9%d1%82%d0%b0-python?rq=1" class="question-hyperlink">Парсинг сайта python</a>
                            </div>
                            <div class="spacer js-gps-track">
                                <a href="https://ru.stackoverflow.com/q/992047?rq=1" title="Количество голосов («за» − «против»)">
                                    <div class="answer-votes answered-accepted default">0</div>
                                </a>
                                <a href="https://ru.stackoverflow.com/questions/992047/%d0%9f%d0%b0%d1%80%d1%81%d0%b8%d0%bd%d0%b3-%d0%92%d0%a1%d0%95%d0%93%d0%9e-%d1%81%d0%b0%d0%b9%d1%82%d0%b0?rq=1" class="question-hyperlink">Парсинг ВСЕГО сайта</a>
                            </div>
                            <div class="spacer js-gps-track">
                                <a href="https://ru.stackoverflow.com/q/993768?rq=1" title="Количество голосов («за» − «против»)">
                                    <div class="answer-votes answered-accepted default">0</div>
                                </a>
                                <a href="https://ru.stackoverflow.com/questions/993768/%d0%9d%d0%b5-%d1%80%d0%b0%d0%b1%d0%be%d1%82%d0%b0%d0%b5%d1%82-%d0%bf%d0%b0%d1%80%d1%81%d0%b5%d1%80-keyerror-%d0%b5%d1%81%d0%bb%d0%b8-%d0%bc%d0%be%d0%b6%d0%bd%d0%be-%d1%82%d0%b0%d0%ba%d0%b6%d0%b5-%d0%be%d0%b1%d1%8c%d1%8f%d1%81%d0%bd%d0%b8%d1%82%d0%b5-%d0%ba%d0%b0%d0%ba-%d0%bf%d0%b0%d1%80%d1%81%d0%b8%d1%82%d1%8c-%d0%b2%d0%ba-%d0%bd%d0%b0-%d0%bb%d0%b0%d0%b9%d0%ba%d0%b8?rq=1" class="question-hyperlink">Не работает парсер (KeyError) если можно также обьясните как парсить вк на лайки комменты (кол-во)</a>
                            </div>
                            <div class="spacer js-gps-track">
                                <a href="https://ru.stackoverflow.com/q/1087114?rq=1" title="Количество голосов («за» − «против»)">
                                    <div class="answer-votes answered-accepted default">0</div>
                                </a>
                                <a href="https://ru.stackoverflow.com/questions/1087114/%d0%9f%d0%b0%d1%80%d1%81%d0%b8%d0%bd%d0%b3-%d1%81%d0%b0%d0%b9%d1%82%d0%b0-beautifulsoup?rq=1" class="question-hyperlink">Парсинг сайта BeautifulSoup</a>
                            </div>
                            <div class="spacer js-gps-track">
                                <a href="https://ru.stackoverflow.com/q/1123193?rq=1" title="Количество голосов («за» − «против»)">
                                    <div class="answer-votes answered-accepted default">0</div>
                                </a>
                                <a href="https://ru.stackoverflow.com/questions/1123193/%d0%9f%d0%b0%d1%80%d1%81%d0%b8%d0%bd%d0%b3-%d1%81%d0%b0%d0%b9%d1%82%d0%b0-%d0%af%d0%bd%d0%b4%d0%b5%d0%ba%d1%81?rq=1" class="question-hyperlink">Парсинг сайта Яндекс</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>


<div th:insert="~{fragment/footer :: footer}" ></div>
<div th:insert="fragment/generalFragments :: styleheader"></div>
<div th:insert="fragment/generalFragments :: scriptfooter"></div>

<div th:fragment="styleheader">

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <!--// говорим системе что нужно считывать плотность пикселей устройства
    // и при необходимости делать шрифт крупней-->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <!--// Подключаем собственно стили  bootstrap-->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
          crossorigin="anonymous">

    <link rel="stylesheet" href="/static/css/sidebar.css">
</div>


<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
<script src="/static/js/askQuestion.js"></script>
<script src="/static/js/service/error401.js"></script>
</body>
</html>
</body>
</html>